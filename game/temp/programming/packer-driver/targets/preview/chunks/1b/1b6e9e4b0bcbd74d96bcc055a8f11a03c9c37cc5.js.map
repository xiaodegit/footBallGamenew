{"version":3,"sources":["file:///D:/cocosProject/footBallGame/game/assets/controllers/jointControls/FootMotorController.ts"],"names":["_decorator","Component","HingeJoint2D","ccclass","property","FootMotorController","hingeJoint","bool","start","getComponent","update","deltaTime","rotateHeadTo90Degrees","rotationSpeed","Math","PI","motorSpeed","stopMotor","rotationDuration","scheduleOnce","onRotateButtonPressed"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Y,OAAAA,Y;;;;;;;;;OAC1B;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;qCAGjBK,mB,WADZF,OAAO,CAAC,qBAAD,C,gBAAR,MACaE,mBADb,SACyCJ,SADzC,CACmD;AAAA;AAAA;AAAA,eAEvCK,UAFuC,GAEL,IAFK;AAAA,eAG/CC,IAH+C,GAG/B,KAH+B;AAAA;;AAK/CC,QAAAA,KAAK,GAAG;AACJ,eAAKF,UAAL,GAAkB,KAAKG,YAAL,CAAkBP,YAAlB,CAAlB;AACH;;AAEDQ,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,qBAAqB,GAAG;AACpB;AACA;AACA;AACI;AAEA,cAAMC,aAAa,GAAG,CAAC,EAAD,GAAMC,IAAI,CAACC,EAAX,GAAgB,EAAtC,CANgB,CAM0B;;AAC1C,eAAKT,UAAL,CAAgBU,UAAhB,GAA6BH,aAA7B,CAPgB,CASpB;AACH,SAvB8C,CAyB/C;;;AACAI,QAAAA,SAAS,GAAG;AAER;AACA,cAAMC,gBAAgB,GAAG,GAAzB,CAHQ,CAGsB;AAE9B;;AACA,eAAKC,YAAL,CAAkB,MAAM;AACpB,gBAAMN,aAAa,GAAG,KAAKC,IAAI,CAACC,EAAV,GAAe,EAArC,CADoB,CACqB;;AACzC,iBAAKT,UAAL,CAAgBU,UAAhB,GAA6BH,aAA7B;AACH,WAHD,EAGGK,gBAHH;AAIA,eAAKZ,UAAL,CAAgBU,UAAhB,GAA6B,CAA7B,CAVQ,CAUwB;;AAChC,eAAKT,IAAL,GAAY,KAAZ;AAEH,SAvC8C,CAyC/C;;;AACAa,QAAAA,qBAAqB,GAAG;AACpB,eAAKR,qBAAL;AACH;;AA5C8C,O","sourcesContent":["import { _decorator, Component, HingeJoint2D, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FootMotorController')\r\nexport class FootMotorController extends Component {\r\n\r\n    private hingeJoint: HingeJoint2D | null = null;\r\n    bool: Boolean = false;\r\n\r\n    start() {\r\n        this.hingeJoint = this.getComponent(HingeJoint2D);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n\r\n    rotateHeadTo90Degrees() {\r\n        // if (this.bool) return;\r\n        // if (this.hingeJoint) {\r\n        //     this.bool = true;\r\n            // 设置马达速度进行旋转\r\n\r\n            const rotationSpeed = -80 * Math.PI / 10; // 每秒旋转 90 度，单位是弧度/秒\r\n            this.hingeJoint.motorSpeed = rotationSpeed;\r\n\r\n        // }\r\n    }\r\n\r\n    // 停止马达\r\n    stopMotor() {\r\n\r\n        // 计算旋转所需时间（假设需要 1 秒旋转到 90 度）\r\n        const rotationDuration = 0.1; // 1 秒旋转 90 度，您可以根据需要调整\r\n\r\n        // 使用 scheduleOnce 在旋转结束后停止马达\r\n        this.scheduleOnce(() => {\r\n            const rotationSpeed = 80 * Math.PI / 30; // 每秒旋转 90 度，单位是弧度/秒\r\n            this.hingeJoint.motorSpeed = rotationSpeed;\r\n        }, rotationDuration);\r\n        this.hingeJoint.motorSpeed = 0; // 停止马达旋转\r\n        this.bool = false;\r\n\r\n    }\r\n\r\n    // 示例：点击按钮时调用该方法\r\n    onRotateButtonPressed() {\r\n        this.rotateHeadTo90Degrees();\r\n    }\r\n}\r\n\r\n\r\n"]}