{"version":3,"sources":["file:///D:/cocosProject/footBallGame/game/assets/managers/PlayerManager.ts"],"names":["PlayerManager","director","constructor","jumpBoolean","Floor","over","force","playerController","getInstance","instance","setPlayerControllerClass","e","changePlayerSpeed","stopMovement","jump","floor","gameover","Force","ForceAdd1","GameOverFunction","active","pause","playerState"],"mappings":";;;yFAIaA,a;;;;;;;;;;;;;;;AAHcC,MAAAA,Q,OAAAA,Q;;;;;qFAD3B;;;;;+BAIaD,a,GAAN,MAAMA,aAAN,CAAoB;AAUfE,QAAAA,WAAW,GAAG;AAAA,eARdC,WAQc;AAAA,eAPdC,KAOc;AAAA,eANdC,IAMc;AAAA,eAJdC,KAIc;AAAA,eAFdC,gBAEc;AAClB,eAAKJ,WAAL,GAAmB,KAAnB;AACA,eAAKG,KAAL,GAAa,EAAb;AACH;;AAEwB,eAAXE,WAAW,GAAkB;AACvC,cAAI,CAACR,aAAa,CAACS,QAAnB,EAA6B;AACzBT,YAAAA,aAAa,CAACS,QAAd,GAAyB,IAAIT,aAAJ,EAAzB;AACH;;AACD,iBAAOA,aAAa,CAACS,QAArB;AACH;;AAEkC,YAAxBC,wBAAwB,CAACC,CAAD,EAAsB;AACrD,eAAKJ,gBAAL,GAAwBI,CAAxB;AACH;;AAEMC,QAAAA,iBAAiB,GAAG;AACvB,cAAI,KAAKL,gBAAT,EAA2B;AACvB,iBAAKA,gBAAL,CAAsBM,YAAtB;AACH;AACJ;;AAEc,YAAJC,IAAI,CAACH,CAAD,EAAI;AACf,eAAKR,WAAL,GAAmBQ,CAAnB;AACH;;AACc,YAAJG,IAAI,GAAG;AACd,iBAAO,KAAKX,WAAZ;AACH;;AAEe,YAALY,KAAK,CAACJ,CAAD,EAAI;AAChB,eAAKP,KAAL,GAAaO,CAAb;AACH;;AACe,YAALI,KAAK,GAAG;AACf,iBAAO,KAAKX,KAAZ;AACH;;AAEkB,YAARY,QAAQ,CAACL,CAAD,EAAS;AACxB,eAAKN,IAAL,GAAYM,CAAZ;AACH;;AAEe,YAALM,KAAK,GAAG;AACf,iBAAO,KAAKX,KAAZ;AACH;;AACe,YAALW,KAAK,CAACN,CAAD,EAAI;AAChB,eAAKL,KAAL,GAAaK,CAAb;AACH;;AAEMO,QAAAA,SAAS,GAAG;AACf,eAAKZ,KAAL;AACH;;AACMa,QAAAA,gBAAgB,GAAG;AACtB,eAAKd,IAAL,CAAUe,MAAV,GAAmB,IAAnB;AACA,iBAAOnB,QAAQ,CAACoB,KAAT,EAAP;AACH,SA/DsB,CAiEvB;;;AACAC,QAAAA,WAAW,CAACX,CAAD,EAAY;AACnB,cAAIA,CAAC,IAAI,MAAT,EAAiB;AACb,iBAAKG,IAAL,GAAY,IAAZ;AACH,WAFD,MAEO,IAAIH,CAAC,IAAI,KAAT,EAAgB;AACnB,iBAAKG,IAAL,GAAY,KAAZ;AAEH;AACJ;;AAzEsB,O;;AAAdd,MAAAA,a,CACMS,Q","sourcesContent":["//角色全局属性管理器\r\nimport { _decorator, Node, director, Vec3 } from \"cc\";\r\nimport { PlayerController } from \"../controllers/PlayerController\";\r\n\r\nexport class PlayerManager {\r\n    private static instance: PlayerManager;\r\n    private jumpBoolean: Boolean;\r\n    private Floor!: Node;\r\n    private over!: Node;\r\n\r\n    private force: number;\r\n\r\n    private playerController!: PlayerController;\r\n\r\n    private constructor() {\r\n        this.jumpBoolean = false;\r\n        this.force = 30;\r\n    }\r\n\r\n    public static getInstance(): PlayerManager {\r\n        if (!PlayerManager.instance) {\r\n            PlayerManager.instance = new PlayerManager();\r\n        }\r\n        return PlayerManager.instance;\r\n    }\r\n\r\n    public set setPlayerControllerClass(e: PlayerController) {\r\n        this.playerController = e;\r\n    }\r\n\r\n    public changePlayerSpeed() {\r\n        if (this.playerController) {\r\n            this.playerController.stopMovement();\r\n        }\r\n    }\r\n\r\n    public set jump(e) {\r\n        this.jumpBoolean = e;\r\n    }\r\n    public get jump() {\r\n        return this.jumpBoolean;\r\n    }\r\n\r\n    public set floor(e) {\r\n        this.Floor = e;\r\n    }\r\n    public get floor() {\r\n        return this.Floor;\r\n    }\r\n\r\n    public set gameover(e: any) {\r\n        this.over = e\r\n    }\r\n\r\n    public get Force() {\r\n        return this.force;\r\n    }\r\n    public set Force(e) {\r\n        this.force = e;\r\n    }\r\n\r\n    public ForceAdd1() {\r\n        this.force++;\r\n    }\r\n    public GameOverFunction() {\r\n        this.over.active = true;\r\n        return director.pause();\r\n    }\r\n\r\n    // 角色状态转换\r\n    playerState(e: string) {\r\n        if (e == 'jump') {\r\n            this.jump = true;\r\n        } else if (e == 'run') {\r\n            this.jump = false;\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}