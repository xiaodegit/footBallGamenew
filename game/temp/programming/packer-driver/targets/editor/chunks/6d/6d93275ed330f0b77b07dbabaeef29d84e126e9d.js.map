{"version":3,"sources":["file:///D:/cocosProject/footBallGame/game/assets/handlers/playerCollition.ts"],"names":["_decorator","Collider2D","Component","Contact2DType","PlayerManager","ccclass","property","playerCollition","playerManager","start","getInstance","collider","getComponent","on","BEGIN_CONTACT","onBeginContact","END_CONTACT","onEndContact","PRE_SOLVE","onPreSolve","selfCollider","otherCollider","node","jump","contact"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,a,OAAAA,a;;AAEnCC,MAAAA,a,iBAAAA,a;;;;;;;;;OADH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;iCAIjBO,e,WADZF,OAAO,CAAC,iBAAD,C,gBAAR,MACaE,eADb,SACqCL,SADrC,CAC+C;AAAA;AAAA;AAAA,eACnCM,aADmC;AAAA;;AAG3CC,QAAAA,KAAK,GAAG;AACJ,eAAKD,aAAL,GAAqB;AAAA;AAAA,8CAAcE,WAAd,EAArB;AAEA,gBAAMC,QAAQ,GAAG,KAAKC,YAAL,CAAkBX,UAAlB,CAAjB;;AACA,cAAIU,QAAJ,EAAc;AACVA,YAAAA,QAAQ,CAACE,EAAT,CAAYV,aAAa,CAACW,aAA1B,EAAyC,KAAKC,cAA9C,EAA8D,IAA9D;AACAJ,YAAAA,QAAQ,CAACE,EAAT,CAAYV,aAAa,CAACa,WAA1B,EAAuC,KAAKC,YAA5C,EAA0D,IAA1D;AACAN,YAAAA,QAAQ,CAACE,EAAT,CAAYV,aAAa,CAACe,SAA1B,EAAqC,KAAKC,UAA1C,EAAsD,IAAtD;AACH;AACJ;;AAEDJ,QAAAA,cAAc,CAACK,YAAD,EAA2BC,aAA3B,EAAsD;AAChE,cAAIA,aAAa,CAACC,IAAlB,EAAwB;AACpB,iBAAKd,aAAL,CAAmBe,IAAnB,GAA0B,KAA1B;AAEH;AACJ;;AAEDN,QAAAA,YAAY,CAACO,OAAD,EAA6BJ,YAA7B,EAAuDC,aAAvD,EAAkF,CAC1F;AACH;;AAEDF,QAAAA,UAAU,CAACK,OAAD,EAA6BJ,YAA7B,EAAuDC,aAAvD,EAAkF,CACxF;AACH;;AA3B0C,O","sourcesContent":["import { _decorator, Collider2D, Component, Contact2DType, IPhysics2DContact } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { PlayerManager } from '../managers/PlayerManager';\r\n\r\n@ccclass('playerCollition')\r\nexport class playerCollition extends Component {\r\n    private playerManager: PlayerManager;\r\n\r\n    start() {\r\n        this.playerManager = PlayerManager.getInstance();\r\n\r\n        const collider = this.getComponent(Collider2D);\r\n        if (collider) {\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n            collider.on(Contact2DType.PRE_SOLVE, this.onPreSolve, this);\r\n        }\r\n    }\r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D) {\r\n        if (otherCollider.node) {\r\n            this.playerManager.jump = false;\r\n\r\n        }\r\n    }\r\n\r\n    onEndContact(contact: IPhysics2DContact, selfCollider: Collider2D, otherCollider: Collider2D) {\r\n        // console.log('碰撞结束：', selfCollider.node.name, '和', otherCollider.node.name);\r\n    }\r\n\r\n    onPreSolve(contact: IPhysics2DContact, selfCollider: Collider2D, otherCollider: Collider2D) {\r\n        // console.log('碰撞解决中：', selfCollider.node.name, '和', otherCollider.node.name);\r\n    }\r\n}\r\n\r\n\r\n"]}