{"version":3,"sources":["file:///D:/cocosProject/footBallGame/game/assets/core/loginClient.ts"],"names":["_decorator","Component","EditBox","ccclass","property","socketClient","socket","start","window","io","on","console","log","emit","playerName","data","onLoginButtonClicked","usernameInput","passwordInput","username","string","password"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAoBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,O,OAAAA,O;;;;;;;;;OAClC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;8BAGjBK,Y,WADZF,OAAO,CAAC,cAAD,C,UAGHC,QAAQ,CAACF,OAAD,C,UAGRE,QAAQ,CAACF,OAAD,C,2BANb,MACaG,YADb,SACkCJ,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQhCK,MARgC;AAAA;;AAQnB;AAErBC,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKD,MAAL,GAAeE,MAAD,CAAgBC,EAAhB,CAAmB,uBAAnB,CAAd,CAFI,CAGJ;;AACA,eAAKH,MAAL,CAAYI,EAAZ,CAAe,SAAf,EAA0B,MAAM;AAC5BC,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAD4B,CAE5B;;AACA,iBAAKN,MAAL,CAAYO,IAAZ,CAAiB,UAAjB,EAA6B;AAAEC,cAAAA,UAAU,EAAE;AAAd,aAA7B;AACH,WAJD,EAJI,CAUJ;;AACA,eAAKR,MAAL,CAAYI,EAAZ,CAAe,cAAf,EAAgCK,IAAD,IAAe;AAC1CJ,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,IAArB;AACH,WAFD,EAXI,CAeJ;;AACA,eAAKT,MAAL,CAAYI,EAAZ,CAAe,cAAf,EAAgCK,IAAD,IAAe;AAC1CJ,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,IAArB;AACH,WAFD;AAGH;;AAEDC,QAAAA,oBAAoB,GAAG;AACnB,cAAI,KAAKC,aAAL,IAAsB,KAAKC,aAA/B,EAA8C;AAC1C,kBAAMC,QAAQ,GAAG,KAAKF,aAAL,CAAmBG,MAApC;AACA,kBAAMC,QAAQ,GAAG,KAAKH,aAAL,CAAmBE,MAApC;AACAT,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBO,QAAnB;AACAR,YAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBS,QAAlB,EAJ0C,CAM1C;;AACA,iBAAKf,MAAL,CAAYO,IAAZ,CAAiB,OAAjB,EAA0B;AAAEM,cAAAA,QAAF;AAAYE,cAAAA;AAAZ,aAA1B;AACH;AACJ;;AAzCuC,O;;;;;iBAGR,I;;;;;;;iBAGA,I","sourcesContent":["import { _decorator, Button, Component, EditBox } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('socketClient')\r\nexport class socketClient extends Component {\r\n\r\n    @property(EditBox)\r\n    usernameInput: EditBox | null = null;\r\n\r\n    @property(EditBox)\r\n    passwordInput: EditBox | null = null;\r\n\r\n    private socket: any; // 使用 any 类型以避免类型错误\r\n\r\n    start() {\r\n        // 使用全局变量 io 进行连接\r\n        this.socket = (window as any).io('http://localhost:3000');\r\n        // 监听连接成功事件\r\n        this.socket.on('connect', () => {\r\n            console.log('连接到服务器成功');\r\n            // 可以在这里发送加入游戏的事件或其他初始化操作\r\n            this.socket.emit('joinGame', { playerName: 'Player1' });\r\n        });\r\n\r\n        // 监听登录成功事件\r\n        this.socket.on('loginSuccess', (data: any) => {\r\n            console.log('登录成功:', data);\r\n        });\r\n\r\n        // 监听登录失败事件\r\n        this.socket.on('loginFailure', (data: any) => {\r\n            console.log('登录失败:', data);\r\n        });\r\n    }\r\n\r\n    onLoginButtonClicked() {\r\n        if (this.usernameInput && this.passwordInput) {\r\n            const username = this.usernameInput.string;\r\n            const password = this.passwordInput.string;\r\n            console.log('用户名', username);\r\n            console.log('密码', password);\r\n\r\n            // 通过 Socket.io 发送登录请求\r\n            this.socket.emit('login', { username, password });\r\n        }\r\n    }\r\n}\r\n"]}