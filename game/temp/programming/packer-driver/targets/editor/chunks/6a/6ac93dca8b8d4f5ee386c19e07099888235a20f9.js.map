{"version":3,"sources":["file:///D:/cocosProject/footBallGame/game/assets/controllers/roomControls/roomController.ts"],"names":["_decorator","Component","director","Node","clientManager","ccclass","property","joinRoomController","clientmanager","roomID","start","getInstance","Socket","on","gameStart","update","deltaTime","console","log","loadScene","onTouchStartGame","emit","leaveRoom","active","node","onTouchLeaveRoom","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;;AAEjCC,MAAAA,a,iBAAAA,a;;;;;;;;;OADH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;oCAIjBO,kB,WADZF,OAAO,CAAC,oBAAD,C,UAKHC,QAAQ,CAACH,IAAD,C,2BALb,MACaI,kBADb,SACwCN,SADxC,CACkD;AAAA;AAAA;AAAA,eAC9CO,aAD8C;AAAA,eAE9CC,MAF8C,GAErC,KAFqC;;AAAA;AAAA;;AAO9CC,QAAAA,KAAK,GAAG;AACJ,eAAKF,aAAL,GAAqB;AAAA;AAAA,8CAAcG,WAAd,EAArB;AACA,eAAKH,aAAL,CAAmBI,MAAnB,CAA0BC,EAA1B,CAA6B,WAA7B,EAA0C,KAAKC,SAA/C;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AACDF,QAAAA,SAAS,GAAE;AACPG,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAhB,UAAAA,QAAQ,CAACiB,SAAT,CAAmB,MAAnB;AACH;;AACDC,QAAAA,gBAAgB,GAAG;AACf;AACA,eAAKZ,aAAL,CAAmBI,MAAnB,CAA0BS,IAA1B,CAA+B,UAA/B,EAA2C,KAAKZ,MAAhD;AACA,eAAKa,SAAL,CAAeC,MAAf,GAAwB,IAAxB;AACA,eAAKC,IAAL,CAAUD,MAAV,GAAmB,KAAnB;AACH;;AAEDE,QAAAA,gBAAgB,GAAG;AACf,eAAKjB,aAAL,CAAmBI,MAAnB,CAA0BS,IAA1B,CAA+B,WAA/B,EAA4C,KAAKZ,MAAjD;AACA,eAAKa,SAAL,CAAeC,MAAf,GAAwB,KAAxB;AACA,eAAKC,IAAL,CAAUD,MAAV,GAAmB,IAAnB;AAEH;;AAESG,QAAAA,SAAS,GAAS;AACxB,eAAKlB,aAAL,CAAmBI,MAAnB,CAA0BS,IAA1B,CAA+B,WAA/B,EAA4C,KAAKZ,MAAjD;AACH;;AAnC6C,O","sourcesContent":["import { _decorator, Component, director, Node, Scene } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { clientManager } from '../../managers/clientManager';\r\n\r\n@ccclass('joinRoomController')\r\nexport class joinRoomController extends Component {\r\n    clientmanager!: clientManager;\r\n    roomID = '001';\r\n\r\n    @property(Node)\r\n    leaveRoom!:Node;\r\n\r\n    start() {\r\n        this.clientmanager = clientManager.getInstance();\r\n        this.clientmanager.Socket.on('gameStart', this.gameStart);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n    gameStart(){\r\n        console.log('开始游戏了');\r\n        director.loadScene('game')\r\n    }\r\n    onTouchStartGame() {\r\n        //开始匹配，发送房间id到服务器\r\n        this.clientmanager.Socket.emit('joinRoom', this.roomID);\r\n        this.leaveRoom.active = true;\r\n        this.node.active = false;\r\n    }\r\n\r\n    onTouchLeaveRoom() {\r\n        this.clientmanager.Socket.emit('leaveRoom', this.roomID);\r\n        this.leaveRoom.active = false;\r\n        this.node.active = true;\r\n\r\n    }\r\n    \r\n    protected onDestroy(): void {\r\n        this.clientmanager.Socket.emit('leaveRoom', this.roomID);\r\n    }\r\n}\r\n\r\n\r\n"]}